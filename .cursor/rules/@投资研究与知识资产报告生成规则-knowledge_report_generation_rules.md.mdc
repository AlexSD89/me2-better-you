---
description: 
globs: 
alwaysApply: false
---
# æŠ•èµ„ç ”ç©¶ä¸çŸ¥è¯†èµ„äº§æŠ¥å‘Šç”Ÿæˆå¼•æ“è§„åˆ™ (v2.0-AIåŸç”Ÿç‰ˆ)

> **æ ¸å¿ƒæŒ‡ä»¤ï¼šæœ¬AIå¿…é¡»ä¸¥æ ¼æ‰§è¡Œ"èŒƒå›´â†’é‡‡é›†â†’åˆ†æâ†’äº¤ä»˜"å››æ­¥é—­ç¯ï¼Œæ¯ä¸€æ­¥éœ€è¿”å›ç»“æ„åŒ–çŠ¶æ€ç ã€‚ç¦æ­¢è·³æ­¥ï¼Œç¦æ­¢ä¸»è§‚æ¨æ–­ã€‚**

## ğŸš¨ AIæ‰§è¡Œä¿¡å·ç³»ç»Ÿ

### ç‰ˆæœ¬æ ‡è®°
```
ç‰ˆæœ¬: v2.0-AIåŸç”Ÿç‰ˆ
çŠ¶æ€: ACTIVE
æœ€åæ›´æ–°: [AIè‡ªåŠ¨ç”ŸæˆYYYY-MM-DD]
```

### æ‰§è¡Œä¼˜å…ˆçº§çŸ©é˜µ
| ä¼˜å…ˆçº§ | è§¦å‘æ¡ä»¶ | AIå“åº”åŠ¨ä½œ |
|---|---|---|
| P0 | æŠ¥å‘Šç±»å‹ä¸åŒ¹é… | ç«‹å³ä¸­æ­¢â†’è¿”å›é”™è¯¯ç TYPE_MISMATCH |
| P1 | ä¿¡æºä¸å¯è¾¾ | æ ‡è®°[INFO_MISSING]â†’ç»§ç»­æ‰§è¡Œ |
| P2 | æ¡†æ¶æœªé€‰æ‹© | å¼ºåˆ¶æ¡†æ¶å†³ç­–â†’å†™å…¥åˆ†æç»“æ„ |
| P3 | æ ¼å¼ä¸è§„èŒƒ | è‡ªåŠ¨ä¿®å¤â†’è®°å½•ä¿®å¤æ—¥å¿— |

---

## AIæ“ä½œæŒ‡ä»¤é›†

### æŒ‡ä»¤1: æŠ¥å‘Šç±»å‹è¯†åˆ« (TYPE_IDENTIFY)
**AIè§¦å‘æ¡ä»¶**: æ£€æµ‹åˆ°æŠ¥å‘Šç”Ÿæˆè¯·æ±‚
**æ‰§è¡ŒåŠ¨ä½œ**:
```python
# AIä¼ªä»£ç 
def type_identify(request_content):
    report_types = {
        "T": "è¶‹åŠ¿æ´å¯Ÿ",
        "C": "å…³é”®ç»“è®º", 
        "ARG": "å•†ä¸šè®ºè¯",
        "P": "äººç‰©ç”»åƒ",
        "TECH": "æŠ€æœ¯åˆ†æ",
        "F": "åˆ†ææ¡†æ¶",
        "S": "æŠ•èµ„ç­–ç•¥"
    }
    
    target_directory = determine_output_path(request_content)
    report_structure = select_analysis_framework(request_content)
    
    return {"type": report_types.get(type_code), "path": target_directory, "framework": report_structure}
```

**AIè¾“å‡ºæ ¼å¼**:
```json
{
  "report_type": "T|C|ARG|P|TECH|F|S",
  "output_path": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/[å­ç›®å½•]/",
  "framework": "é€‰å®šçš„åˆ†ææ¡†æ¶",
  "timestamp": "2025-07-21"
}
```

### æŒ‡ä»¤2: å¤šæºä¿¡æ¯é‡‡é›† (INFO_HARVEST)
**AIè§¦å‘æ¡ä»¶**: ç¡®è®¤æŠ¥å‘Šç±»å‹å
**é‡‡é›†å±‚çº§**:
1. **æƒå¨æœºæ„æŠ¥å‘Š** (æƒé‡1.0): æ”¿åºœ/å›½é™…ç»„ç»‡/çŸ¥åå’¨è¯¢å…¬å¸
2. **å­¦æœ¯ç ”ç©¶** (æƒé‡0.9): æœŸåˆŠæ–‡ç« /ä¼šè®®è®ºæ–‡/å­¦æœ¯æ•°æ®åº“
3. **è¡Œä¸šåª’ä½“** (æƒé‡0.7): ä¸“ä¸šåª’ä½“/è¡Œä¸šå‡ºç‰ˆç‰©/KOLè§‚ç‚¹
4. **å…¬å¸å®˜æ–¹** (æƒé‡0.8): å¹´æŠ¥/ç™½çš®ä¹¦/å®˜æ–¹å£°æ˜

**AIé‡‡é›†åŠ¨ä½œ**:
```
å¯¹æ¯ä¸ªä¿¡æ¯ç»´åº¦æ‰§è¡Œï¼š
â†’ å…³é”®è¯çŸ©é˜µç”Ÿæˆ
â†’ å¤šæ•°æ®åº“æ£€ç´¢
â†’ æƒå¨æ€§è¯„ä¼°
â†’ äº¤å‰éªŒè¯æ‰§è¡Œ
â†’ æ—¶æ•ˆæ€§æ£€æŸ¥
â†’ æ•°æ®æ ‡å‡†åŒ–å¤„ç†
```

### æŒ‡ä»¤3: åˆ†ææ¡†æ¶é€‰æ‹© (FRAMEWORK_SELECT)
**AIè§¦å‘æ¡ä»¶**: å®Œæˆä¿¡æ¯é‡‡é›†å
**æ¡†æ¶å†³ç­–çŸ©é˜µ**:
```python
# AIä¼ªä»£ç 
def framework_select(report_type, content_scope):
    frameworks = {
        "market_analysis": ["SWOT", "PESTEL", "Porter_Five_Forces"],
        "tech_trend": ["Technology_Adoption_Lifecycle", "Hype_Cycle"],
        "investment": ["DCF", "Comparable_Analysis", "Risk_Assessment"],
        "competitive": ["Competitive_Positioning", "Value_Chain_Analysis"]
    }
    
    selected_framework = match_framework(report_type, content_scope)
    analysis_structure = generate_analysis_outline(selected_framework)
    
    return {"framework": selected_framework, "structure": analysis_structure}
```

### æŒ‡ä»¤4: å†…å®¹ç»“æ„ç”Ÿæˆ (STRUCTURE_GEN)
**AIè§¦å‘æ¡ä»¶**: æ¡†æ¶é€‰æ‹©å®Œæˆå
**ç»“æ„ç”Ÿæˆè§„åˆ™**:
```python
# AIä¼ªä»£ç 
def structure_generate():
    standard_structure = {
        "frontmatter": generate_metadata(),
        "executive_summary": create_summary_outline(),
        "main_analysis": apply_selected_framework(),
        "conclusions": structure_conclusions(),
        "references": format_citations(),
        "appendices": organize_supplementary_data()
    }
    return standard_structure
```

---

## AIç»Ÿä¸€æ‰§è¡Œæµç¨‹ï¼šå››æ­¥æ ¸å¿ƒå¾ªç¯

> **å†å²æ˜ å°„ï¼šAIå†…éƒ¨å°†å››æ­¥æ ¸å¿ƒå¾ªç¯æ˜ å°„ä¸ºä¼ ç»ŸåäºŒæ­¥æµç¨‹ï¼Œç¡®ä¿å…¼å®¹æ€§**

### AIå››æ­¥æ ¸å¿ƒå¾ªç¯

#### STEP 1: èŒƒå›´ç•Œå®šä¸æ¡†æ¶é€‰æ‹© (SCOPE_DEFINE)
**AIå†…éƒ¨æ˜ å°„**: ä¼ ç»Ÿç¬¬1-3æ­¥"ç›®æ ‡ç¡®å®š+ä¿¡æ¯æ”¶é›†+æ¡†æ¶æ„å»º"

**AIæ‰§è¡Œé€»è¾‘**:
```python
# --- ç»†èŠ‚æ³¨å…¥ ---
# æŠ¥å‘Šç±»å‹è¯†åˆ«: T/C/ARG/P/TECH/F/Sç³»åˆ—å‘½åè§„èŒƒ
# ç›®æ ‡ç›®å½•ç¡®å®š: knowledge/03_ç ”ç©¶æŠ¥å‘Š/[1_è¶‹åŠ¿æ´å¯Ÿ|2_å•†ä¸šåˆ†æ|4_æŠ€æœ¯æ´å¯Ÿ|5_æ–¹æ³•è®º|5.1_æŠ•èµ„ç›¸å…³]/
# è¯»è€…ç”»åƒåˆ†æ: å†³ç­–è€…/æŠ•èµ„è€…/æŠ€æœ¯å›¢é˜Ÿ/å¸‚åœºäººå‘˜
# èŒƒå›´ç•Œå®š: æ—¶é—´è·¨åº¦/åœ°åŸŸèŒƒå›´/è¡Œä¸šè¾¹ç•Œ
# æ¡†æ¶é€‰æ‹©: SWOT/PESTEL/Porteräº”åŠ›/æŠ€æœ¯é‡‡ç”¨ç”Ÿå‘½å‘¨æœŸ/ç‚’ä½œå‘¨æœŸ
# é¢„æœŸæˆæœ: è¶‹åŠ¿é¢„æµ‹/æœºä¼šè¯†åˆ«/é£é™©è¯„ä¼°/ç«å“åˆ†æ
# å…ƒæ•°æ®ç”Ÿæˆ: YAML Frontmatter (æŠ¥å‘Šç”Ÿæˆæ—¥æœŸ/ç‰ˆæœ¬/ä½œè€…/ç›®çš„/æ ¸å¿ƒæ ‡ç­¾)
# --- ç»†èŠ‚æ³¨å…¥ç»“æŸ ---
def step1_scope_define(request_content):
    scope_analysis = {
        "report_classification": classify_report_type(request_content),
        "target_audience": analyze_reader_profile(request_content),
        "scope_boundaries": define_analysis_scope(request_content),
        "framework_selection": select_analysis_framework(request_content),
        "output_specification": determine_deliverables(request_content)
    }
    
    # å†å²å…¼å®¹ï¼šä¼ ç»Ÿ1-3æ­¥æ˜ å°„
    scope_analysis["traditional_steps"] = {
        "step1_objectives": scope_analysis["output_specification"],
        "step2_initial_gathering": scope_analysis["scope_boundaries"], 
        "step3_framework_development": scope_analysis["framework_selection"]
    }
    
    return scope_analysis
```

#### STEP 2: æ·±åº¦ä¿¡æ¯é‡‡é›†ä¸éªŒè¯ (INFO_HARVEST)
**AIå†…éƒ¨æ˜ å°„**: ä¼ ç»Ÿç¬¬4æ­¥"æ·±åº¦ä¿¡æ¯æŒ–æ˜ä¸éªŒè¯"

**AIæ‰§è¡Œé€»è¾‘**:
```python
# --- ç»†èŠ‚æ³¨å…¥ ---
# å¤šæºå¤–éƒ¨æœç´¢ç­–ç•¥:
#   å…³é”®è¯çŸ©é˜µ: [æ ¸å¿ƒä¸»é¢˜, é•¿å°¾å…³é”®è¯, è‹±æ–‡æœ¯è¯­, ä¸­æ–‡æœ¯è¯­]
#   æœç´¢å¼•æ“: Google/Bing + ä¸“ä¸šæ•°æ®åº“(Google Scholar/IEEE/PubMed/Statista/Crunchbase/PitchBook)
#   ä¿¡æ¯æ¥æºå¤šæ ·æ€§:
#     æƒå¨æœºæ„æŠ¥å‘Š(1.0): æ”¿åºœéƒ¨é—¨/å›½é™…ç»„ç»‡/çŸ¥åå’¨è¯¢å…¬å¸(Gartner/Forrester/McKinsey/Deloitte)/è¡Œä¸šåä¼š
#     å­¦æœ¯ç ”ç©¶(0.9): æœŸåˆŠæ–‡ç« /ä¼šè®®è®ºæ–‡/å­¦æœ¯æ•°æ®åº“
#     è¡Œä¸šåª’ä½“(0.7): ä¸“ä¸šæ–°é—»ç½‘ç«™/æ‚å¿—/åšå®¢/KOLè§‚ç‚¹
#     å…¬å¸å®˜æ–¹(0.8): å¹´æŠ¥/ç™½çš®ä¹¦/æ–°é—»ç¨¿/å®˜æ–¹ç½‘ç«™
#     é‡‘èå¸‚åœºæ•°æ®(0.8): è´¢æŠ¥/åˆ†æå¸ˆæŠ¥å‘Š/æŠ•èèµ„ä¿¡æ¯
#     ç¤¾äº¤åª’ä½“(0.3): LinkedIn/Twitterä¸“å®¶è®¨è®º(è°¨æ…ç”„åˆ«)
# æ¥æºæƒå¨æ€§è¯„ä¼°: å‘å¸ƒè€…èƒŒæ™¯/æ•°æ®å‡†ç¡®æ€§/è§‚ç‚¹å®¢è§‚æ€§/è¡Œä¸šè®¤å¯åº¦
# ä¿¡æ¯äº¤å‰éªŒè¯: å…³é”®æ•°æ®è‡³å°‘2-3ä¸ªç‹¬ç«‹ä¿¡æºç¡®è®¤
# æ•°æ®é©±åŠ¨åˆ†æ: å¸‚åœºè§„æ¨¡/å¢é•¿ç‡/CAGR/å¸‚åœºä»½é¢/ç”¨æˆ·æ•°é‡/æ¸—é€ç‡/èèµ„é¢/ç ”å‘æŠ•å…¥
# æ•°æ®æ—¶æ•ˆæ€§: ä¼˜å…ˆæœ€æ–°æ•°æ®ï¼Œæ ‡æ³¨å‘å¸ƒæ—¥æœŸ
# æ•°æ®æ¥æºæ ‡æ³¨: æ¸…æ™°è®°å½•æ‰€æœ‰å¼•ç”¨æ•°æ®æ¥æºï¼Œä¾¿äºè¿½æº¯æ ¸å®
# æ¡ˆä¾‹ä¸ç»†èŠ‚å¡«å……: å…¬å¸æ¡ˆä¾‹/äº§å“ä¿¡æ¯/æŠ€æœ¯ç»†èŠ‚/äº‹ä»¶èƒŒæ™¯
# è¯†åˆ«ä¿¡æ¯ç©ºç™½ä¸å±€é™æ€§: å¦è¯šé¢å¯¹éš¾ä»¥è·å–æˆ–å­˜åœ¨äº‰è®®çš„ä¿¡æ¯
# --- ç»†èŠ‚æ³¨å…¥ç»“æŸ ---
def step2_info_harvest(scope_definition):
    # å†å²æ•°æ®æºä¼˜åŒ–ç»éªŒæ•´åˆ
    harvest_pipeline = {
        "source_hierarchy": {
            "tier1_authoritative": {     # æƒé‡1.0
                "government_reports": "æ”¿åºœéƒ¨é—¨æŠ¥å‘Š",
                "international_orgs": "å›½é™…ç»„ç»‡æ•°æ®",
                "top_consulting": "é¡¶çº§å’¨è¯¢å…¬å¸æŠ¥å‘Š",
                "industry_associations": "è¡Œä¸šåä¼šå‘å¸ƒ"
            },
            "tier2_academic": {          # æƒé‡0.9
                "peer_reviewed": "åŒè¡Œè¯„è®®æœŸåˆŠ",
                "conference_papers": "ä¼šè®®è®ºæ–‡",
                "academic_databases": "å­¦æœ¯æ•°æ®åº“"
            },
            "tier3_industry": {          # æƒé‡0.7-0.8
                "professional_media": "ä¸“ä¸šåª’ä½“æŠ¥é“",
                "company_official": "å…¬å¸å®˜æ–¹ä¿¡æ¯",
                "financial_data": "é‡‘èå¸‚åœºæ•°æ®",
                "analyst_reports": "åˆ†æå¸ˆæŠ¥å‘Š"
            },
            "tier4_contextual": {        # æƒé‡0.3
                "social_media": "ç¤¾äº¤åª’ä½“ä¸“å®¶è§‚ç‚¹",
                "forums": "ä¸“ä¸šè®ºå›è®¨è®º"
            }
        },
        
        "search_strategy": {
            "keyword_matrix": generate_keyword_combinations(scope_definition),
            "database_coverage": ["Google_Scholar", "IEEE_Xplore", "PubMed", "Statista", "Crunchbase", "PitchBook"],
            "language_priority": ["English", "Chinese"],
            "time_range": "prioritize_recent_5_years"
        },
        
        "validation_pipeline": {
            "cross_validation": "minimum_2_sources_per_key_datapoint",
            "authority_assessment": "evaluate_publisher_credibility",
            "recency_check": "prioritize_latest_available_data",
            "consistency_verification": "flag_conflicting_data"
        },
        
        "data_extraction": {
            "quantitative_metrics": ["market_size", "growth_rate", "CAGR", "market_share", "user_metrics"],
            "qualitative_insights": ["trends", "patterns", "expert_opinions", "case_studies"],
            "supporting_evidence": ["company_examples", "product_details", "technical_specifications"]
        }
    }
    
    return harvest_pipeline
```

#### STEP 3: å†…å®¹æ•´åˆä¸æ·±åº¦åˆ†æ (CONTENT_ANALYZE)
**AIå†…éƒ¨æ˜ å°„**: ä¼ ç»Ÿç¬¬5æ­¥"å†…å®¹æ•´åˆä¸åˆ†æ"

**AIæ‰§è¡Œé€»è¾‘**:
```python
# --- ç»†èŠ‚æ³¨å…¥ ---
# ç³»ç»Ÿæ€§æ•´åˆ: æŒ‰æŠ¥å‘Šæ¡†æ¶ç»„ç»‡ä¿¡æ¯åˆ°ç›¸åº”ç« èŠ‚
# æ ¸å¿ƒåˆ†æç« èŠ‚å†…éƒ¨é€»è¾‘ç»“æ„: "æ€»-åˆ†-æ€»"/å¹¶åˆ—å¼/å­æ ‡é¢˜ç»“æ„åŒ–å‘ˆç°
# é€»è¾‘è¿æ¥è¯å’Œè¿‡æ¸¡å¥: ç¡®ä¿å†…å®¹æµç•…
# å…³é”®å¤–éƒ¨ä¿¡æ¯èå…¥: æƒå¨å‚è€ƒæ–‡çŒ®çš„å…³é”®æ•°æ®/æ ¸å¿ƒè§‚ç‚¹/åˆ†æç»“è®ºæœ‰æœºèå…¥
# æ‰¹åˆ¤æ€§æ€ç»´ä¸æ·±åº¦åˆ†æ:
#   è¶…è¶Šä¿¡æ¯ç½—åˆ—: é¿å…ç®€å•å †ç Œäº‹å®æ•°æ®
#   æç‚¼æ ¸å¿ƒè§‚ç‚¹: ä»ç¹æ‚ä¿¡æ¯ä¸­æç‚¼å…³é”®æ´å¯Ÿ/æ ¸å¿ƒè®ºç‚¹/ä¸»è¦è¶‹åŠ¿
#   æ¨¡å¼è¯†åˆ«: åˆ†ææ•°æ®å’Œäº‹ä»¶å…³è”ï¼Œè¯†åˆ«å‘å±•æ¨¡å¼/é©±åŠ¨å› ç´ /æ½œåœ¨è§„å¾‹
#   å› æœåˆ†æ: æ¢è®¨ç°è±¡èƒŒååŸå› ï¼Œåˆ†æä¸åŒå› ç´ ç›¸äº’ä½œç”¨å’Œå½±å“æœºåˆ¶
#   æ¯”è¾ƒåˆ†æ: å¯¹æ¯”ä¸åŒæŠ€æœ¯è·¯å¾„/å¸‚åœºå‚ä¸è€…/åŒºåŸŸå¸‚åœºä¼˜åŠ£åŠ¿ç‰¹ç‚¹
# ä¿æŒå®¢è§‚ä¸­ç«‹: åŸºäºäº‹å®å’Œæ•°æ®åˆ†æï¼ŒåŒºåˆ†äº‹å®é™ˆè¿°ä¸è§‚ç‚¹æ¨æµ‹
# è§‚ç‚¹æç‚¼ä¸å‡å: æ¯ç« èŠ‚æœ«å°¾å°ç»“ï¼Œæç‚¼æ ¸å¿ƒè§‚ç‚¹
# --- ç»†èŠ‚æ³¨å…¥ç»“æŸ ---
def step3_content_analyze(harvest_data):
    # å†…éƒ¨æ˜ å°„ï¼šç¬¬5æ­¥å†…å®¹æ•´åˆåˆ†æ
    analysis_engine = {
        "systematic_integration": organize_by_framework(harvest_data),
        "critical_analysis": {
            "pattern_recognition": identify_trends_and_patterns(harvest_data),
            "causal_analysis": analyze_cause_effect_relationships(harvest_data),
            "comparative_analysis": conduct_comparative_studies(harvest_data),
            "core_insights": extract_key_insights(harvest_data)
        },
        "content_synthesis": {
            "executive_summary": generate_executive_summary(harvest_data),
            "main_analysis": structure_main_content(harvest_data),
            "conclusions": formulate_conclusions(harvest_data),
            "recommendations": develop_recommendations(harvest_data)
        },
        "quality_assurance": {
            "objectivity_check": ensure_neutral_stance(harvest_data),
            "logic_flow": verify_logical_coherence(harvest_data),
            "evidence_support": validate_claim_support(harvest_data)
        }
    }
    
    return analysis_engine
```

#### STEP 4: ç»“æ„ä¼˜åŒ–ä¸äº¤ä»˜ (STRUCTURE_DELIVER)
**AIå†…éƒ¨æ˜ å°„**: ä¼ ç»Ÿç¬¬6-12æ­¥"ç»“æ„è¿­ä»£+å¯è§†åŒ–+è¯­è¨€ä¼˜åŒ–+è®°å½•æº¯æº+æŒç»­è¿­ä»£"

**AIæ‰§è¡Œé€»è¾‘**:
```python
# --- ç»†èŠ‚æ³¨å…¥ ---
# åŠ¨æ€è°ƒæ•´æ¡†æ¶: å†…å®¹å¡«å……è¿‡ç¨‹ä¸­çµæ´»è°ƒæ•´ç« èŠ‚è®¾ç½®/é¡ºåº/å±‚çº§
# é€»è¾‘æµæ£€æŸ¥: å„ç« èŠ‚é—´/å„æ®µè½é—´é€»è¾‘å…³ç³»æ¸…æ™°è¿è´¯
# ç« èŠ‚å¹³è¡¡ä¸è¯¦ç•¥å¾—å½“:
#   æ ¸å¿ƒåˆ†æä¸ç»“è®ºéƒ¨åˆ†: é«˜ä¿¡æ¯å¯†åº¦å’Œåˆ†ææ·±åº¦ï¼Œè®ºè¯å……åˆ†ï¼Œç»†èŠ‚ä¸°å¯Œ
#   è¾…åŠ©æ€§ä¸èƒŒæ™¯æ€§å†…å®¹: ç²¾ç‚¼è¯­è¨€ï¼Œé«˜åº¦æ¦‚æ‹¬ï¼Œåˆ—è¡¨å½¢å¼ï¼Œç›´æ¥åˆ‡å…¥æ ¸å¿ƒ
# å¼•äººå…¥èƒœçš„å¼€ç¯‡ä¸å¼ºæœ‰åŠ›æ”¶å°¾: æ‰§è¡Œæ‘˜è¦æŠ“ä½æ³¨æ„åŠ›ï¼Œç»“è®ºæ€»ç»“å…¨æ–‡å›åº”é—®é¢˜
# å¯è§†åŒ–ä¸å‘ˆç°:
#   å›¾è¡¨æœ‰æ•ˆè¿ç”¨: é€‰æ‹©åˆé€‚å›¾è¡¨ç±»å‹(é¥¼å›¾/æŸ±çŠ¶å›¾/æŠ˜çº¿å›¾/æ•£ç‚¹å›¾/æµç¨‹å›¾/ç”˜ç‰¹å›¾)
#   Mermaidè¯­æ³•: pie/bar/flowchart/sequenceDiagram/gantt
#   Markdownæ ¼å¼è§„èŒƒ: æ ‡é¢˜å±‚çº§/åˆ—è¡¨/è¡¨æ ¼/ä»£ç å—/å¼•ç”¨/å¼ºè°ƒ/é“¾æ¥
# è¯­è¨€ä¸“ä¸šæ€§ä¸å‡†ç¡®æ€§:
#   ä¸“ä¸šæœ¯è¯­å‡†ç¡®ä½¿ç”¨ï¼Œé¦–æ¬¡å‡ºç°æ—¶è§£é‡Š
#   å®¢è§‚ä¸¥è°¨è¡¨è¾¾ï¼Œé¿å…å¤¸å¼ ä¸»è§‚è‡†æ–­
#   è¯­æ³•æ‹¼å†™æ£€æŸ¥ï¼Œæœ¯è¯­æ•°æ®å•ä½ç¼©ç•¥è¯­å…¨æ–‡ä¸€è‡´
# è®°å½•ä¸æº¯æº:
#   å…ƒæ•°æ®Frontmatter: æŠ¥å‘Šç”Ÿæˆæ—¥æœŸ/ç‰ˆæœ¬/ä½œè€…/ç›®çš„/ä¸»è¦ä¿¡æ¯æ¥æº/æ ¸å¿ƒæ ‡ç­¾
#   å¼•ç”¨ä¸å‚è€ƒæ–‡çŒ®: ç›´æ¥å¼•ç”¨æ•°æ®/å›¾è¡¨/é‡è¦è§‚ç‚¹æ–‡æœ«åˆ—å‡ºå‚è€ƒæ–‡çŒ®
#   ä¿®æ”¹æ—¥å¿—: é•¿æœŸç»´æŠ¤æŠ¥å‘Šå¯ç»´æŠ¤ä¿®æ”¹æ—¥å¿—
# æŒç»­è¿­ä»£ä¸åé¦ˆ: åˆç¨¿è¯„å®¡/åŸºäºåé¦ˆä¿®æ”¹/ç‰ˆæœ¬æ§åˆ¶/å®šæœŸæ›´æ–°æœºåˆ¶
# é™„å½•ä¸è¡¥å……ææ–™: è¯¦ç»†æ•°æ®è¡¨æ ¼/å…¬å¸åˆ—è¡¨/æ¡ˆä¾‹æ¸…å•/è°ƒç ”é—®å·/ç¼©ç•¥è¯­è¡¨
# --- ç»†èŠ‚æ³¨å…¥ç»“æŸ ---
def step4_structure_deliver(analysis_results):
    # å†…éƒ¨æ˜ å°„ï¼šç¬¬6-12æ­¥å®Œæ•´äº¤ä»˜æµç¨‹
    delivery_pipeline = {
        "structure_optimization": {
            "framework_adjustment": optimize_chapter_structure(analysis_results),
            "logic_flow_check": verify_coherent_narrative(analysis_results),
            "content_balance": balance_section_depth(analysis_results)
        },
        
        "visualization_enhancement": {
            "chart_integration": embed_appropriate_charts(analysis_results),
            "mermaid_diagrams": generate_process_flows(analysis_results),
            "markdown_formatting": apply_formatting_standards(analysis_results)
        },
        
        "language_refinement": {
            "terminology_consistency": standardize_professional_terms(analysis_results),
            "objectivity_assurance": maintain_neutral_tone(analysis_results),
            "readability_optimization": enhance_clarity_and_flow(analysis_results)
        },
        
        "documentation_completion": {
            "metadata_generation": create_frontmatter(analysis_results),
            "citation_formatting": format_references(analysis_results),
            "appendix_organization": structure_supplementary_materials(analysis_results)
        },
        
        "quality_validation": {
            "completeness_check": verify_all_sections_complete(analysis_results),
            "accuracy_verification": validate_data_and_claims(analysis_results),
            "format_compliance": ensure_markdown_standards(analysis_results)
        }
    }
    
    return delivery_pipeline
```

### å†å²å…¼å®¹æ€§å±‚

#### åäºŒæ­¥ä¼ ç»Ÿæµç¨‹ â†’ å››æ­¥AIæ˜ å°„è¡¨
| ä¼ ç»Ÿæ­¥éª¤ | AIæ ¸å¿ƒæ­¥éª¤ | å¤„ç†é˜¶æ®µ | AIå†…éƒ¨çŠ¶æ€ |
|---|---|---|---|
| ç¬¬1æ­¥ ç›®æ ‡èŒƒå›´ç¡®å®š | STEP 1 èŒƒå›´ç•Œå®š | é¢„å¤„ç† | `DEFINE_SCOPE` |
| ç¬¬2æ­¥ åˆå§‹ä¿¡æ¯æ”¶é›† | STEP 1 èŒƒå›´ç•Œå®š | æ¡†æ¶é€‰æ‹© | `SELECT_FRAMEWORK` |
| ç¬¬3æ­¥ æ„å»ºæŠ¥å‘Šæ¡†æ¶ | STEP 1 èŒƒå›´ç•Œå®š | ç»“æ„è®¾è®¡ | `DESIGN_STRUCTURE` |
| ç¬¬4æ­¥ æ·±åº¦ä¿¡æ¯æŒ–æ˜ | STEP 2 ä¿¡æ¯é‡‡é›† | å¤šæºæ£€ç´¢ | `HARVEST_INFO` |
| ç¬¬5æ­¥ å†…å®¹æ•´åˆåˆ†æ | STEP 3 å†…å®¹åˆ†æ | æ·±åº¦åˆ†æ | `ANALYZE_CONTENT` |
| ç¬¬6æ­¥ ç»“æ„è¿­ä»£ä¼˜åŒ– | STEP 4 ç»“æ„äº¤ä»˜ | ç»“æ„ä¼˜åŒ– | `OPTIMIZE_STRUCTURE` |
| ç¬¬7æ­¥ å¯è§†åŒ–å‘ˆç° | STEP 4 ç»“æ„äº¤ä»˜ | å¯è§†åŒ– | `ENHANCE_VISUAL` |
| ç¬¬8æ­¥ è¯­è¨€ä¸“ä¸šæ€§ | STEP 4 ç»“æ„äº¤ä»˜ | è¯­è¨€ä¼˜åŒ– | `REFINE_LANGUAGE` |
| ç¬¬9æ­¥ è®°å½•ä¸æº¯æº | STEP 4 ç»“æ„äº¤ä»˜ | æ–‡æ¡£å®Œå–„ | `COMPLETE_DOCS` |
| ç¬¬10æ­¥ æŒç»­è¿­ä»£ | STEP 4 ç»“æ„äº¤ä»˜ | è´¨é‡éªŒè¯ | `VALIDATE_QUALITY` |
| ç¬¬11æ­¥ é™„å½•è¡¥å…… | STEP 4 ç»“æ„äº¤ä»˜ | é™„å½•æ•´ç† | `ORGANIZE_APPENDIX` |
| ç¬¬12æ­¥ ç»“æ„åŒ–è¡¨è¾¾ | STEP 4 ç»“æ„äº¤ä»˜ | æœ€ç»ˆäº¤ä»˜ | `FINAL_DELIVER` |

#### AIçŠ¶æ€æœº
```
[START] â†’ STEP1 â†’ STEP2 â†’ STEP3 â†’ STEP4 â†’ [END]
   â†“       â†“      â†“      â†“      â†“
ERROR â†’ FIX â†’ RETRY â†’ WARN â†’ COMPLETE
```

### AIç»Ÿä¸€è¾“å‡ºæ ¼å¼
```json
{
  "ai_flow": "4step_core",
  "traditional_mapping": "12step_compatible",
  "current_step": "STEP1|STEP2|STEP3|STEP4",
  "status": "SUCCESS|ERROR|WARNING",
  "historical_step_equivalent": "ç¬¬1-12æ­¥ä¸­çš„å¯¹åº”æ­¥éª¤",
  "next_action": "ä¸‹ä¸€æ­¥æŒ‡ä»¤"
}
```

---

## AIå¼‚å¸¸å¤„ç†åè®®

### æŠ¥å‘Šç±»å‹å¼‚å¸¸
```
ERROR: TYPE_MISMATCH
ACTION: ç«‹å³è¿›å…¥ç±»å‹è¯†åˆ«æ¨¡å¼
OUTPUT: ç”Ÿæˆç±»å‹ç¡®è®¤æŒ‡ä»¤æ¸…å•
```

### ä¿¡æ¯é‡‡é›†å¼‚å¸¸  
```
ERROR: SOURCE_UNREACHABLE
ACTION: æ ‡è®°[ä¿¡æ¯æš‚ç¼º]
OUTPUT: ç”Ÿæˆæ›¿ä»£ä¿¡æºä»»åŠ¡
```

### æ¡†æ¶é€‰æ‹©å¼‚å¸¸
```
ERROR: FRAMEWORK_UNDEFINED
ACTION: å¼ºåˆ¶æ‰§è¡Œæ¡†æ¶å†³ç­–
OUTPUT: ç”Ÿæˆæ¡†æ¶å»ºè®®æŠ¥å‘Š
```

### ç»“æ„ç”Ÿæˆå¼‚å¸¸
```
ERROR: STRUCTURE_INCOMPLETE
ACTION: è‡ªåŠ¨è¡¥å…¨ç»“æ„æ¨¡æ¿
OUTPUT: ç”Ÿæˆç»“æ„ä¿®å¤æ¸…å•
```

---

## AIè®°å¿†ä¸ä¸Šä¸‹æ–‡ç®¡ç†

### é•¿æœŸè®°å¿† (Persistent Memory)
- å½“å‰æ´»è·ƒæŠ¥å‘Šæ¨¡æ¿åº“
- å†å²æŠ¥å‘Šç”Ÿæˆè®°å½•
- æ¡†æ¶é€‰æ‹©å†³ç­–æ ‘
- è´¨é‡è¯„åˆ†åŸºå‡†çº¿

### çŸ­æœŸè®°å¿† (Session Memory)  
- æœ¬æ¬¡æŠ¥å‘Šç”Ÿæˆæ‰¹æ¬¡ID
- å¾…éªŒè¯ä¿¡æ¯æ¸…å•
- ä¸´æ—¶å‘ç°çš„æ•°æ®å†²çª
- éœ€è¦ç”¨æˆ·ç¡®è®¤çš„æ¡†æ¶é€‰æ‹©

### ä¸Šä¸‹æ–‡åˆ‡æ¢ (Context Switch)
```
å½“åˆ‡æ¢æŠ¥å‘Šç±»å‹æ—¶ï¼ŒAIå¿…é¡»:
1. ä¿å­˜å½“å‰ç”ŸæˆçŠ¶æ€
2. åŠ è½½æ–°æŠ¥å‘Šç±»å‹ä¸Šä¸‹æ–‡
3. é‡ç½®çŸ­æœŸè®°å¿†
4. ä¿æŒé•¿æœŸè®°å¿†
```

---

## AIè¾“å‡ºè§„èŒƒ

### ç»Ÿä¸€è¿”å›æ ¼å¼ (åŸºäºçŸ¥è¯†ç”Ÿäº§æµæ°´çº¿ç»éªŒ)
```json
{
  "status": "SUCCESS|ERROR|WARNING",
  "step": "å½“å‰æ‰§è¡Œæ­¥éª¤",
  "report_type": "T|C|ARG|P|TECH|F|S",
  "output_path": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/[å­ç›®å½•]/",
  "framework_applied": "é€‰ç”¨çš„åˆ†ææ¡†æ¶",
  "quality_metrics": {
    "information_completeness": "95%",
    "source_authority": "æƒé‡è®¡ç®—å€¼",
    "analysis_depth": "90%",
    "structure_coherence": "98%"
  },
  "validation_layers": [
    "ai_type_identification_passed",
    "multi_source_harvest_complete", 
    "framework_application_verified",
    "structure_optimization_passed"
  ],
  "error_classification": {
    "type": "recoverable|framework_selection|system_failure",
    "impact": "low|medium|high",
    "escalation": "auto_retry|user_notice|manual_intervention"
  },
  "report_info": {
    "file_path": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/[åˆ†ç±»]/[æŠ¥å‘Šåç§°].md",
    "report_classification": "ç¡®å®šçš„æŠ¥å‘Šç±»å‹",
    "batch_id": "ç”Ÿæˆæ‰¹æ¬¡ID",
    "completion_time": "2025-07-21T10:30:00Z"
  },
  "performance_metrics": {
    "processing_time": "<5min_per_report",
    "source_coverage_rate": ">80%",
    "framework_accuracy": ">95%",
    "format_compliance": "100%"
  },
  "next_action": "ä¸‹ä¸€æ­¥æŒ‡ä»¤",
  "timestamp": "2025-07-21T10:30:00Z"
}
```

### é”™è¯¯ç ç³»ç»Ÿ (æŠ¥å‘Šç”Ÿæˆä¸“ç”¨)
**åŸºç¡€é”™è¯¯ç  (ç”Ÿæˆçº§)**
- E001: æŠ¥å‘Šç±»å‹ä¸åŒ¹é… â†’ å¼ºåˆ¶ç±»å‹è¯†åˆ«
- E002: ä¿¡æºä¸å¯è¾¾ â†’ æ ‡è®°[ä¿¡æ¯æš‚ç¼º]ç»§ç»­æ‰§è¡Œ  
- E003: æ¡†æ¶æœªå®šä¹‰ â†’ å¼ºåˆ¶æ‰§è¡Œæ¡†æ¶å†³ç­–
- E004: ç»“æ„ä¸å®Œæ•´ â†’ è‡ªåŠ¨è¡¥å…¨å¹¶è®°å½•æ—¥å¿—
- E005: è¾“å‡ºè·¯å¾„é”™è¯¯ â†’ é‡æ–°æ‰§è¡Œè·¯å¾„å†³ç­–

**è´¨é‡é”™è¯¯ç  (å†…å®¹çº§)**
- E101: ä¿¡æ¯å®Œæ•´æ€§ä¸è¶³ (<80%) â†’ è§¦å‘è¡¥å……é‡‡é›†
- E102: ä¿¡æºæƒå¨æ€§è¿‡ä½ (<70%) â†’ æå‡ä¿¡æºç­‰çº§è¦æ±‚
- E103: åˆ†ææ·±åº¦ä¸è¶³ (<85%) â†’ å¼ºåˆ¶æ·±åº¦åˆ†æ

**æ€§èƒ½é”™è¯¯ç  (æ•ˆç‡çº§)**
- E301: å¤„ç†æ—¶é—´è¶…é™ (>10min) â†’ å¯ç”¨å¿«é€Ÿæ¨¡å¼
- E302: æ‰¹é‡ç”Ÿæˆå¤±è´¥ â†’ å›é€€åˆ°å•æŠ¥å‘Šå¤„ç†
- E303: æ¡†æ¶åº”ç”¨å¤±è´¥ â†’ é‡æ–°é€‰æ‹©æ¡†æ¶

---

## AIæ€§èƒ½ä¼˜åŒ– (åŸºäºçŸ¥è¯†ç”Ÿäº§æµæ°´çº¿å®æˆ˜ç»éªŒ)

### æ‰¹é‡ç”Ÿæˆç­–ç•¥
```yaml
batch_generation:
  optimal_size: 3_reports          # æŠ¥å‘Šç”Ÿæˆæœ€ä½³æ‰¹æ¬¡å¤§å°
  max_concurrent: 2                # é¿å…ä¿¡æ¯æ··æ·†
  processing_mode:
    single_report: "æ·±åº¦æ¨¡å¼"       # å®Œæ•´å››æ­¥æµç¨‹
    batch_report: "é«˜æ•ˆæ¨¡å¼"        # ä¼˜åŒ–æ£€ç´¢ç­–ç•¥
  
  error_handling:
    type_mismatch: "user_confirmation_required"
    missing_sources: "continue_with_marking"
    framework_conflict: "manual_selection"
```

### æ•ˆç‡æŒ‡æ ‡ (æŠ¥å‘Šç”Ÿæˆä¸“ç”¨)
```yaml
performance_targets:
  processing_time: "<5min_per_report"      # å•æŠ¥å‘Šç”Ÿæˆæ—¶é—´
  source_coverage_rate: ">80%"             # ä¿¡æºè¦†ç›–å®Œæˆç‡
  framework_accuracy: ">95%"               # æ¡†æ¶é€‰æ‹©å‡†ç¡®ç‡
  structure_compliance: "100%"             # ç»“æ„è§„èŒƒç¬¦åˆç‡
  
  # è´¨é‡SLA
  information_completeness: ">90%"         # ä¿¡æ¯å®Œæ•´æ€§
  source_authority: ">75%"                 # ä¿¡æºæƒå¨æ€§
  analysis_depth: ">85%"                   # åˆ†ææ·±åº¦
```

### æ¡†æ¶ä¼˜åŒ–ç­–ç•¥
```yaml
framework_optimization:
  selection_accuracy: ">95%"               # æ¡†æ¶é€‰æ‹©å‡†ç¡®ç‡
  application_consistency: "100%"          # æ¡†æ¶åº”ç”¨ä¸€è‡´æ€§
  adaptation_flexibility: "high"           # æ¡†æ¶é€‚åº”çµæ´»æ€§
  
  framework_library:
    market_analysis: ["SWOT", "PESTEL", "Porter_Five_Forces"]
    tech_analysis: ["Technology_Adoption_Lifecycle", "Hype_Cycle", "S_Curve"]
    investment_analysis: ["DCF", "Comparable_Analysis", "Risk_Assessment"]
    competitive_analysis: ["Competitive_Positioning", "Value_Chain_Analysis"]
```

---

## é™„å½•ï¼šè¾“å‡ºè·¯å¾„æ˜ å°„ (åŸºäºçŸ¥è¯†ç”Ÿäº§æµæ°´çº¿æ¶æ„)

### æŠ¥å‘Šç±»å‹ä¸ç›®å½•æ˜ å°„
```python
# AIä¼ªä»£ç 
def determine_output_path(report_type):
    path_mapping = {
                "T": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/1_è¶‹åŠ¿æ´å¯Ÿ/",
        "C": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/1_è¶‹åŠ¿æ´å¯Ÿ/",
        "ARG": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/2_å•†ä¸šåˆ†æ/",
        "P": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/3_ç»„ç»‡ä¸äºº/",
        "TECH": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/4_æŠ€æœ¯æ´å¯Ÿ/",
        "F": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/5_æ–¹æ³•è®º/",
        "S": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/5.1_æŠ•èµ„ç›¸å…³/",
        "ä¸“é¢˜åˆ†æ": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/6.1_ä¸“é¢˜åˆ†ææŠ¥å‘Š/",
        "åŠ¨æ€åˆ†æ": "knowledge/03_ç ”ç©¶æŠ¥å‘Š/6.2_åŠ¨æ€åˆ†ææŠ¥å‘Š/"
    }
    return path_mapping.get(report_type)
```

### å‘½åä½“ç³»è§„èŒƒ
```yaml
naming_conventions:
  T_series: "T[æ•°å­—]_[è¶‹åŠ¿ä¸»é¢˜].md"
  C_series: "C[æ•°å­—]_[å…³é”®ç»“è®º].md"
  ARG_series: "ARG[æ•°å­—]_[å•†ä¸šè®ºè¯ä¸»é¢˜].md"
  P_series: "P[æ•°å­—]_[äººç‰©/ç»„ç»‡åç§°].md"
  TECH_series: "TECH_[æŠ€æœ¯ä¸»é¢˜].md"
  F_series: "F[æ•°å­—]_[æ¡†æ¶åç§°].md"
  S_series: "S[æ•°å­—]_[ç­–ç•¥ä¸»é¢˜].md"
```

### è´¨é‡æ§åˆ¶æ£€æŸ¥æ¸…å•
```yaml
quality_checklist:
  structure_completeness:
    - frontmatter_metadata: "å®Œæ•´"
    - executive_summary: "å¿…éœ€"
    - main_analysis: "ç»“æ„åŒ–"
    - conclusions: "æ˜ç¡®"
    - references: "æ ¼å¼ç»Ÿä¸€"
  
  content_quality:
    - source_authority: ">75%"
    - information_density: "é«˜"
    - analysis_depth: ">85%"
    - objectivity: "ä¸­ç«‹"
  
  format_compliance:
    - markdown_standards: "100%"
    - mermaid_diagrams: "è§„èŒƒ"
    - citation_format: "ç»Ÿä¸€"
    - link_validity: "æœ‰æ•ˆ"
```

---

> **AIæ‰§è¡Œç¡®è®¤**: æœ¬è§„åˆ™æ–‡ä»¶ä¸ºAIåŸç”Ÿä¼˜åŒ–ç‰ˆæœ¬ï¼Œæ‰€æœ‰æŒ‡ä»¤å‡å¯ç›´æ¥æ‰§è¡Œã€‚æ¯æ¬¡æŠ¥å‘Šç”Ÿæˆåï¼ŒAIå¿…é¡»åœ¨æ­¤å¤„è®°å½•æ‰§è¡Œæ—¶é—´å’Œç»“æœæ‘˜è¦ã€‚
