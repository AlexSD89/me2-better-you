# 前端设计组件库标准化指南

**指南代号**: ZHILINK4-Component-Standards  
**设计理念**: 基于shadcn/ui的企业级扩展标准  
**技术基础**: React 19 + Next.js 15 + TypeScript  
**应用范围**: 企业级AI平台前端开发  
**文档版本**: v1.0  
**创建时间**: 2025年8月17日  

> **标准化价值**: 通过统一的组件标准和设计语言，确保复杂AI平台的一致性用户体验和高效开发

---

## 📋 组件标准化原则

### 核心设计原则

```typescript
interface ComponentStandardsPrinciples {
  一致性原则: {
    视觉一致: "统一的色彩、字体、间距、圆角系统",
    交互一致: "相同功能的组件行为保持一致",
    代码一致: "统一的API设计和命名规范",
    性能一致: "所有组件都满足企业级性能标准"
  },
  
  可扩展原则: {
    主题扩展: "支持企业级定制主题",
    功能扩展: "预留扩展接口和插槽",
    样式扩展: "可覆盖的CSS变量系统",
    行为扩展: "可配置的交互行为"
  },
  
  可访问性原则: {
    键盘导航: "完整的键盘操作支持",
    屏幕阅读器: "ARIA标签和语义化HTML",
    色彩对比: "WCAG 2.1 AA级别色彩对比",
    动画控制: "respect-reduced-motion支持"
  },
  
  性能原则: {
    按需加载: "Tree-shaking友好的模块设计",
    内存优化: "避免内存泄漏的组件生命周期",
    渲染优化: "React 19并发特性的最佳实践",
    包体积: "gzip压缩后单个组件<5KB"
  }
}
```

---

## 🎨 设计系统标准

### Cloudsway 4.0 色彩标准

#### 基础色彩体系
```css
/* Cloudsway 4.0 核心色彩变量 */
:root {
  /* 主品牌色 */
  --cloudsway-primary-50: #eef2ff;
  --cloudsway-primary-100: #e0e7ff;
  --cloudsway-primary-200: #c7d2fe;
  --cloudsway-primary-300: #a5b4fc;
  --cloudsway-primary-400: #818cf8;
  --cloudsway-primary-500: #6366f1;
  --cloudsway-primary-600: #4f46e5;
  --cloudsway-primary-700: #4338ca;
  --cloudsway-primary-800: #3730a3;
  --cloudsway-primary-900: #312e81;
  --cloudsway-primary-950: #1e1b4b;
  
  /* 次要品牌色 */
  --cloudsway-secondary-50: #ecfeff;
  --cloudsway-secondary-100: #cffafe;
  --cloudsway-secondary-200: #a5f3fc;
  --cloudsway-secondary-300: #67e8f9;
  --cloudsway-secondary-400: #22d3ee;
  --cloudsway-secondary-500: #06b6d4;
  --cloudsway-secondary-600: #0891b2;
  --cloudsway-secondary-700: #0e7490;
  --cloudsway-secondary-800: #155e75;
  --cloudsway-secondary-900: #164e63;
  --cloudsway-secondary-950: #083344;
  
  /* AI专家个性化色彩 */
  --expert-alex: #3b82f6;      /* 营销专家蓝 */
  --expert-sarah: #8b5cf6;     /* 技术专家紫 */
  --expert-mike: #10b981;      /* 设计专家绿 */
  --expert-emma: #f59e0b;      /* 数据专家橙 */
  --expert-david: #6366f1;     /* 项目专家靛 */
  --expert-catherine: #ec4899; /* 战略专家粉 */
  
  /* 语义化色彩 */
  --color-success: #10b981;    /* 成功状态 */
  --color-warning: #f59e0b;    /* 警告状态 */
  --color-error: #ef4444;      /* 错误状态 */
  --color-info: #3b82f6;       /* 信息提示 */
  
  /* 企业级扩展色彩 */
  --enterprise-trust: #22c55e;     /* 信任绿 */
  --enterprise-premium: #fbbf24;   /* 高级金 */
  --enterprise-secure: #1e293b;    /* 安全蓝 */
  --enterprise-certified: #a855f7; /* 认证紫 */
}
```

#### 深色模式适配
```css
[data-theme="dark"] {
  /* 深色模式下的色彩调整 */
  --cloudsway-primary-500: #818cf8;
  --cloudsway-secondary-500: #22d3ee;
  
  /* 背景色系统 */
  --background-main: #0f172a;
  --background-card: #1e293b;
  --background-muted: #334155;
  --background-glass: rgba(148, 163, 184, 0.1);
  
  /* 文字色系统 */
  --text-primary: #f8fafc;
  --text-secondary: #cbd5e1;
  --text-muted: #64748b;
  --text-inverse: #0f172a;
}
```

### 字体与排版标准

#### 字体层级系统
```css
/* 企业级字体排版 */
.typography-system {
  /* 英雄标题 - 关键页面的主标题 */
  --font-hero: 600 3.5rem/1.1 'Inter', system-ui, sans-serif;
  letter-spacing: -0.02em;
  
  /* 页面标题 - 页面级别的标题 */
  --font-h1: 700 2.25rem/1.2 'Inter', system-ui, sans-serif;
  letter-spacing: -0.01em;
  
  /* 区域标题 - 功能区域的标题 */
  --font-h2: 600 1.875rem/1.3 'Inter', system-ui, sans-serif;
  
  /* 组件标题 - 卡片、表单等组件标题 */
  --font-h3: 600 1.5rem/1.4 'Inter', system-ui, sans-serif;
  
  /* 子标题 - 次要信息标题 */
  --font-h4: 500 1.25rem/1.5 'Inter', system-ui, sans-serif;
  
  /* 正文内容 - 主要文本内容 */
  --font-body: 400 1rem/1.6 'Inter', system-ui, sans-serif;
  
  /* 小号文本 - 辅助信息、标签等 */
  --font-small: 400 0.875rem/1.5 'Inter', system-ui, sans-serif;
  
  /* 极小文本 - 版权、技术信息等 */
  --font-xs: 400 0.75rem/1.4 'Inter', system-ui, sans-serif;
  
  /* AI对话专用 - 区分AI生成内容 */
  --font-ai: 500 1rem/1.6 'Inter', system-ui, sans-serif;
  font-style: italic;
  
  /* 代码文本 - 技术相关内容 */
  --font-code: 400 0.875rem/1.5 'JetBrains Mono', 'Fira Code', monospace;
}
```

### 间距与布局标准

#### 设计令牌系统
```css
:root {
  /* 基础间距单位 */
  --space-1: 0.25rem;   /* 4px */
  --space-2: 0.5rem;    /* 8px */
  --space-3: 0.75rem;   /* 12px */
  --space-4: 1rem;      /* 16px */
  --space-5: 1.25rem;   /* 20px */
  --space-6: 1.5rem;    /* 24px */
  --space-8: 2rem;      /* 32px */
  --space-10: 2.5rem;   /* 40px */
  --space-12: 3rem;     /* 48px */
  --space-16: 4rem;     /* 64px */
  --space-20: 5rem;     /* 80px */
  --space-24: 6rem;     /* 96px */
  
  /* 圆角系统 */
  --radius-xs: 0.125rem;  /* 2px */
  --radius-sm: 0.25rem;   /* 4px */
  --radius-md: 0.375rem;  /* 6px */
  --radius-lg: 0.5rem;    /* 8px */
  --radius-xl: 0.75rem;   /* 12px */
  --radius-2xl: 1rem;     /* 16px */
  --radius-full: 9999px;  /* 圆形 */
  
  /* 阴影系统 */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-glow: 0 0 20px var(--cloudsway-primary-500);
}
```

---

## 🧩 基础组件标准

### Button 组件标准

#### 组件API设计
```tsx
interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link' | 'premium' | 'enterprise' | 'conversion';
  size?: 'sm' | 'md' | 'lg' | 'xl';
  expert?: 'alex' | 'sarah' | 'mike' | 'emma' | 'david' | 'catherine';
  loading?: boolean;
  leftIcon?: React.ReactNode;
  rightIcon?: React.ReactNode;
  children: React.ReactNode;
}

// 使用示例
<Button variant="premium" size="lg" leftIcon={<Sparkles />}>
  启用AI专家服务
</Button>

<Button variant="expert" expert="alex" loading={isAnalyzing}>
  开始营销分析
</Button>
```

#### 样式变体定义
```css
.button {
  /* 基础样式 */
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium;
  @apply ring-offset-background transition-colors focus-visible:outline-none;
  @apply focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  @apply disabled:pointer-events-none disabled:opacity-50;
  
  /* 尺寸变体 */
  &.size-sm {
    @apply h-9 px-3 text-xs;
  }
  
  &.size-md {
    @apply h-10 px-4 py-2;
  }
  
  &.size-lg {
    @apply h-11 px-8 text-base;
  }
  
  &.size-xl {
    @apply h-12 px-10 text-lg;
  }
  
  /* 变体样式 */
  &.variant-premium {
    @apply bg-gradient-to-r from-enterprise-premium to-yellow-400;
    @apply text-white hover:from-yellow-500 hover:to-yellow-600;
    @apply shadow-lg shadow-enterprise-premium/25;
  }
  
  &.variant-enterprise {
    @apply bg-enterprise-secure text-white;
    @apply hover:bg-slate-700 border border-slate-600;
  }
  
  &.variant-conversion {
    @apply bg-gradient-to-r from-color-success to-emerald-500;
    @apply text-white hover:from-emerald-600 hover:to-emerald-700;
    @apply animate-pulse shadow-lg shadow-color-success/30;
  }
  
  /* AI专家主题 */
  &.expert-alex {
    @apply bg-expert-alex hover:bg-blue-600 text-white;
  }
  
  &.expert-sarah {
    @apply bg-expert-sarah hover:bg-purple-600 text-white;
  }
  
  /* 加载状态 */
  &.loading {
    @apply relative text-transparent;
    
    &::after {
      content: "";
      @apply absolute inset-0 flex items-center justify-center;
      @apply w-4 h-4 border-2 border-current border-t-transparent;
      @apply rounded-full animate-spin;
    }
  }
}
```

### Card 组件标准

#### 组件设计
```tsx
interface CardProps extends React.HTMLAttributes<HTMLDivElement> {
  variant?: 'default' | 'elevated' | 'glass' | 'ai-workspace' | 'certification' | 'interactive';
  expert?: ExpertType;
  level?: 'basic' | 'premium' | 'enterprise';
  children: React.ReactNode;
}

const Card = React.forwardRef<HTMLDivElement, CardProps>(
  ({ className, variant = 'default', expert, level, children, ...props }, ref) => {
    return (
      <div
        ref={ref}
        className={cn(
          "rounded-lg border bg-card text-card-foreground shadow-sm",
          variant === 'elevated' && "shadow-lg hover:shadow-xl transition-shadow",
          variant === 'glass' && "bg-background-glass backdrop-blur-sm border-white/10",
          variant === 'ai-workspace' && "bg-background-ai-workspace border-l-4 border-l-cloudsway-primary-500",
          variant === 'certification' && "border-enterprise-certified/30 bg-enterprise-certified/5",
          variant === 'interactive' && "cursor-pointer hover:scale-[1.02] transition-transform",
          expert && `border-l-4 border-l-expert-${expert}`,
          level === 'premium' && "ring-1 ring-enterprise-premium/20",
          level === 'enterprise' && "ring-1 ring-enterprise-secure/20",
          className
        )}
        {...props}
      >
        {children}
      </div>
    )
  }
)
```

### Input 组件标准

#### AI增强输入组件
```tsx
interface AIInputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  aiSuggestions?: boolean;
  expertHint?: ExpertType;
  validationLevel?: 'basic' | 'strict' | 'enterprise';
  leftIcon?: React.ReactNode;
  rightIcon?: React.ReactNode;
  error?: string;
  success?: string;
}

const AIInput = React.forwardRef<HTMLInputElement, AIInputProps>(
  ({ 
    className, 
    aiSuggestions = false, 
    expertHint, 
    validationLevel = 'basic',
    leftIcon,
    rightIcon,
    error,
    success,
    ...props 
  }, ref) => {
    const [suggestions, setSuggestions] = useState<string[]>([])
    
    return (
      <div className="relative">
        <div className="relative">
          {leftIcon && (
            <div className="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground">
              {leftIcon}
            </div>
          )}
          
          <input
            className={cn(
              "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",
              "text-sm ring-offset-background file:border-0 file:bg-transparent",
              "file:text-sm file:font-medium placeholder:text-muted-foreground",
              "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",
              "focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
              leftIcon && "pl-10",
              rightIcon && "pr-10",
              error && "border-color-error focus-visible:ring-color-error",
              success && "border-color-success focus-visible:ring-color-success",
              expertHint && `focus-visible:ring-expert-${expertHint}`,
              className
            )}
            ref={ref}
            {...props}
          />
          
          {rightIcon && (
            <div className="absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground">
              {rightIcon}
            </div>
          )}
        </div>
        
        {/* AI建议下拉 */}
        {aiSuggestions && suggestions.length > 0 && (
          <div className="absolute top-full left-0 right-0 z-50 mt-1 bg-popover border rounded-md shadow-lg">
            {suggestions.map((suggestion, index) => (
              <button
                key={index}
                className="w-full px-3 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground"
                onClick={() => {/* 处理建议选择 */}}
              >
                <Bot className="inline w-3 h-3 mr-2 text-cloudsway-primary-500" />
                {suggestion}
              </button>
            ))}
          </div>
        )}
        
        {/* 错误/成功提示 */}
        {error && (
          <p className="mt-1 text-xs text-color-error flex items-center gap-1">
            <AlertCircle className="w-3 h-3" />
            {error}
          </p>
        )}
        
        {success && (
          <p className="mt-1 text-xs text-color-success flex items-center gap-1">
            <CheckCircle className="w-3 h-3" />
            {success}
          </p>
        )}
      </div>
    )
  }
)
```

---

## 🤖 AI专属组件标准

### AIExpertAvatar 组件

#### 标准化设计
```tsx
interface AIExpertAvatarProps {
  expert: {
    id: string;
    name: string;
    role: string;
    avatar: string;
    color: string;
    personality: 'professional' | 'friendly' | 'analytical' | 'creative';
  };
  status: 'idle' | 'thinking' | 'active' | 'completed' | 'error';
  size: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
  showStatus?: boolean;
  showPersonality?: boolean;
  interactive?: boolean;
  onClick?: () => void;
}

const AIExpertAvatar: React.FC<AIExpertAvatarProps> = ({
  expert,
  status,
  size,
  showStatus = true,
  showPersonality = true,
  interactive = false,
  onClick
}) => {
  const sizeClasses = {
    xs: 'w-6 h-6',
    sm: 'w-8 h-8',
    md: 'w-12 h-12',
    lg: 'w-16 h-16',
    xl: 'w-20 h-20'
  }
  
  const statusColors = {
    idle: 'bg-gray-400',
    thinking: 'bg-yellow-400 animate-pulse',
    active: `bg-expert-${expert.id}`,
    completed: 'bg-color-success',
    error: 'bg-color-error'
  }
  
  return (
    <div 
      className={cn(
        "relative rounded-full overflow-hidden ring-2 ring-offset-2 ring-offset-background",
        `ring-expert-${expert.id}/30`,
        status === 'active' && `ring-expert-${expert.id}`,
        interactive && "cursor-pointer hover:scale-105 transition-transform",
        sizeClasses[size]
      )}
      onClick={onClick}
    >
      {/* 头像图片 */}
      <img 
        src={expert.avatar} 
        alt={expert.name}
        className="w-full h-full object-cover"
      />
      
      {/* 个性化渐变遮罩 */}
      {showPersonality && (
        <div 
          className={cn(
            "absolute inset-0 bg-gradient-to-br from-transparent to-black/20",
            expert.personality === 'creative' && "to-purple-500/20",
            expert.personality === 'analytical' && "to-blue-500/20",
            expert.personality === 'friendly' && "to-green-500/20"
          )}
        />
      )}
      
      {/* 状态指示器 */}
      {showStatus && (
        <div className={cn(
          "absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-background",
          statusColors[status]
        )}>
          {status === 'thinking' && (
            <div className="w-full h-full rounded-full animate-spin border-2 border-transparent border-t-current" />
          )}
          {status === 'completed' && (
            <Check className="w-2 h-2 text-white m-auto" />
          )}
          {status === 'error' && (
            <X className="w-2 h-2 text-white m-auto" />
          )}
        </div>
      )}
      
      {/* 活跃状态光晕效果 */}
      {status === 'active' && (
        <div className={cn(
          "absolute inset-0 rounded-full animate-pulse",
          `shadow-lg shadow-expert-${expert.id}/50`
        )} />
      )}
    </div>
  )
}
```

### AIProgressIndicator 组件

#### 智能进度指示器
```tsx
interface AIProgressIndicatorProps {
  progress: number; // 0-100
  status: 'pending' | 'processing' | 'completed' | 'error';
  expert?: ExpertType;
  showPercentage?: boolean;
  showStatus?: boolean;
  size?: 'sm' | 'md' | 'lg';
  animated?: boolean;
}

const AIProgressIndicator: React.FC<AIProgressIndicatorProps> = ({
  progress,
  status,
  expert,
  showPercentage = true,
  showStatus = true,
  size = 'md',
  animated = true
}) => {
  const sizeClasses = {
    sm: 'w-16 h-16',
    md: 'w-20 h-20',
    lg: 'w-24 h-24'
  }
  
  const strokeWidth = size === 'sm' ? 2 : size === 'md' ? 3 : 4
  const radius = size === 'sm' ? 28 : size === 'md' ? 34 : 42
  const circumference = 2 * Math.PI * radius
  const strokeDasharray = circumference
  const strokeDashoffset = circumference - (progress / 100) * circumference
  
  return (
    <div className={cn("relative", sizeClasses[size])}>
      <svg className="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
        {/* 背景圆环 */}
        <circle
          cx="50"
          cy="50"
          r={radius}
          stroke="currentColor"
          strokeWidth={strokeWidth}
          fill="none"
          className="text-muted-foreground/20"
        />
        
        {/* 进度圆环 */}
        <circle
          cx="50"
          cy="50"
          r={radius}
          stroke={expert ? `var(--expert-${expert})` : 'var(--cloudsway-primary-500)'}
          strokeWidth={strokeWidth}
          fill="none"
          strokeDasharray={strokeDasharray}
          strokeDashoffset={strokeDashoffset}
          strokeLinecap="round"
          className={cn(
            "transition-all duration-500 ease-out",
            animated && status === 'processing' && "animate-pulse"
          )}
        />
        
        {/* 状态指示点 */}
        {status === 'processing' && (
          <circle
            cx="50"
            cy={50 - radius}
            r="2"
            fill={expert ? `var(--expert-${expert})` : 'var(--cloudsway-primary-500)'}
            className="animate-pulse"
          />
        )}
      </svg>
      
      {/* 中心内容 */}
      <div className="absolute inset-0 flex items-center justify-center">
        {status === 'completed' ? (
          <Check className="w-6 h-6 text-color-success" />
        ) : status === 'error' ? (
          <X className="w-6 h-6 text-color-error" />
        ) : showPercentage ? (
          <span className="text-sm font-medium">
            {Math.round(progress)}%
          </span>
        ) : (
          <Bot className="w-6 h-6 text-cloudsway-primary-500" />
        )}
      </div>
      
      {/* 状态文字 */}
      {showStatus && (
        <div className="absolute top-full left-1/2 transform -translate-x-1/2 mt-2">
          <span className="text-xs text-muted-foreground capitalize">
            {status}
          </span>
        </div>
      )}
    </div>
  )
}
```

### AIInsightCard 组件

#### AI洞察展示卡片
```tsx
interface AIInsightCardProps {
  insight: {
    id: string;
    title: string;
    description: string;
    confidence: number; // 0-100
    impact: 'low' | 'medium' | 'high' | 'critical';
    category: 'opportunity' | 'risk' | 'optimization' | 'trend';
    data?: any;
  };
  expert: ExpertType;
  actionable?: boolean;
  onAction?: (action: string) => void;
}

const AIInsightCard: React.FC<AIInsightCardProps> = ({
  insight,
  expert,
  actionable = true,
  onAction
}) => {
  const impactColors = {
    low: 'text-blue-500 bg-blue-50',
    medium: 'text-yellow-500 bg-yellow-50',
    high: 'text-orange-500 bg-orange-50',
    critical: 'text-red-500 bg-red-50'
  }
  
  const categoryIcons = {
    opportunity: TrendingUp,
    risk: AlertTriangle,
    optimization: Target,
    trend: BarChart
  }
  
  const Icon = categoryIcons[insight.category]
  
  return (
    <Card variant="ai-workspace" className="p-4 space-y-3">
      {/* 头部信息 */}
      <div className="flex items-start gap-3">
        <AIExpertAvatar 
          expert={expert} 
          size="sm" 
          status="completed"
        />
        <div className="flex-1 min-w-0">
          <div className="flex items-center gap-2 mb-1">
            <Icon className="w-4 h-4 text-muted-foreground" />
            <h4 className="font-medium text-sm truncate">{insight.title}</h4>
          </div>
          <p className="text-xs text-muted-foreground">{expert.name} • AI洞察</p>
        </div>
        
        {/* 影响等级标识 */}
        <Badge className={cn("text-xs", impactColors[insight.impact])}>
          {insight.impact.toUpperCase()}
        </Badge>
      </div>
      
      {/* 洞察内容 */}
      <div className="space-y-2">
        <p className="text-sm text-foreground leading-relaxed">
          {insight.description}
        </p>
        
        {/* 置信度指示器 */}
        <div className="flex items-center gap-2 text-xs text-muted-foreground">
          <span>置信度:</span>
          <div className="flex-1 bg-muted rounded-full h-1.5">
            <div 
              className={cn(
                "h-full rounded-full transition-all duration-500",
                `bg-expert-${expert.id}`
              )}
              style={{ width: `${insight.confidence}%` }}
            />
          </div>
          <span className="font-medium">{insight.confidence}%</span>
        </div>
      </div>
      
      {/* 行动按钮 */}
      {actionable && (
        <div className="flex gap-2 pt-2 border-t border-border/50">
          <Button 
            variant="outline" 
            size="sm" 
            onClick={() => onAction?.('details')}
            className="flex-1"
          >
            查看详情
          </Button>
          <Button 
            variant="default" 
            size="sm" 
            expert={expert.id}
            onClick={() => onAction?.('implement')}
            className="flex-1"
          >
            采纳建议
          </Button>
        </div>
      )}
    </Card>
  )
}
```

---

## 📊 数据可视化组件标准

### 企业级图表组件

#### ChartContainer 基础容器
```tsx
interface ChartContainerProps {
  title: string;
  description?: string;
  expert?: ExpertType;
  timeRange?: string;
  exportable?: boolean;
  interactive?: boolean;
  loading?: boolean;
  children: React.ReactNode;
}

const ChartContainer: React.FC<ChartContainerProps> = ({
  title,
  description,
  expert,
  timeRange,
  exportable = false,
  interactive = true,
  loading = false,
  children
}) => {
  return (
    <Card className={cn(
      "p-6",
      expert && `border-l-4 border-l-expert-${expert}`
    )}>
      {/* 图表头部 */}
      <div className="flex items-start justify-between mb-4">
        <div className="space-y-1">
          <h3 className="font-semibold text-lg">{title}</h3>
          {description && (
            <p className="text-sm text-muted-foreground">{description}</p>
          )}
          {expert && (
            <div className="flex items-center gap-2 text-xs text-muted-foreground">
              <AIExpertAvatar expert={expert} size="xs" />
              <span>{expert.name} 数据分析</span>
            </div>
          )}
        </div>
        
        <div className="flex items-center gap-2">
          {timeRange && (
            <Badge variant="outline">{timeRange}</Badge>
          )}
          {exportable && (
            <Button variant="ghost" size="sm">
              <Download className="w-4 h-4" />
            </Button>
          )}
        </div>
      </div>
      
      {/* 图表内容 */}
      <div className={cn(
        "relative",
        loading && "opacity-50 pointer-events-none"
      )}>
        {children}
        
        {loading && (
          <div className="absolute inset-0 flex items-center justify-center">
            <AIProgressIndicator 
              progress={75} 
              status="processing" 
              expert={expert}
              size="sm"
            />
          </div>
        )}
      </div>
    </Card>
  )
}
```

#### ROIChart 投资回报率图表
```tsx
interface ROIChartProps {
  data: {
    period: string;
    investment: number;
    return: number;
    projected?: number;
  }[];
  expert?: ExpertType;
  interactive?: boolean;
}

const ROIChart: React.FC<ROIChartProps> = ({
  data,
  expert,
  interactive = true
}) => {
  return (
    <ChartContainer
      title="投资回报率分析"
      description="AI专家预测的投资回报趋势"
      expert={expert}
      exportable
    >
      <div className="h-80">
        <ResponsiveContainer width="100%" height="100%">
          <LineChart data={data}>
            <CartesianGrid 
              strokeDasharray="3 3" 
              stroke="var(--border)" 
            />
            <XAxis 
              dataKey="period"
              stroke="var(--text-muted)"
              fontSize={12}
            />
            <YAxis 
              stroke="var(--text-muted)"
              fontSize={12}
              tickFormatter={(value) => `${value}%`}
            />
            <Tooltip 
              contentStyle={{
                backgroundColor: 'var(--background-card)',
                border: '1px solid var(--border)',
                borderRadius: '8px',
                boxShadow: 'var(--shadow-lg)'
              }}
            />
            <Line 
              type="monotone" 
              dataKey="return" 
              stroke={expert ? `var(--expert-${expert})` : 'var(--color-success)'} 
              strokeWidth={2}
              dot={{ fill: 'currentColor', strokeWidth: 2, r: 4 }}
              name="实际回报"
            />
            {data.some(d => d.projected) && (
              <Line 
                type="monotone" 
                dataKey="projected" 
                stroke="var(--cloudsway-primary-500)" 
                strokeWidth={2}
                strokeDasharray="5 5"
                dot={{ fill: 'currentColor', strokeWidth: 2, r: 4 }}
                name="预期回报"
              />
            )}
          </LineChart>
        </ResponsiveContainer>
      </div>
    </ChartContainer>
  )
}
```

---

## 🔧 开发工具与标准

### 组件开发模板

#### 标准组件模板
```tsx
// ComponentTemplate.tsx
import * as React from "react"
import { cn } from "@/lib/utils"
import { cva, type VariantProps } from "class-variance-authority"

// 组件变体定义
const componentVariants = cva(
  "基础样式类名",
  {
    variants: {
      variant: {
        default: "默认变体样式",
        // 其他变体...
      },
      size: {
        sm: "小尺寸样式",
        md: "中尺寸样式",
        lg: "大尺寸样式",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "md",
    },
  }
)

// 组件属性接口
interface ComponentProps 
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof componentVariants> {
  // 自定义属性
}

// 组件实现
const Component = React.forwardRef<HTMLDivElement, ComponentProps>(
  ({ className, variant, size, ...props }, ref) => {
    return (
      <div
        className={cn(componentVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Component.displayName = "Component"

// 导出组件和类型
export { Component, componentVariants, type ComponentProps }
```

### 测试标准

#### 组件测试模板
```tsx
// Component.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import { Component } from './Component'

describe('Component', () => {
  it('renders correctly', () => {
    render(<Component>Test content</Component>)
    expect(screen.getByText('Test content')).toBeInTheDocument()
  })
  
  it('applies variant styles correctly', () => {
    render(<Component variant="premium">Premium content</Component>)
    const element = screen.getByText('Premium content')
    expect(element).toHaveClass('variant-premium')
  })
  
  it('handles interactions properly', () => {
    const handleClick = jest.fn()
    render(
      <Component onClick={handleClick}>
        Clickable content
      </Component>
    )
    
    fireEvent.click(screen.getByText('Clickable content'))
    expect(handleClick).toHaveBeenCalledTimes(1)
  })
  
  it('meets accessibility standards', () => {
    render(<Component aria-label="Test component">Content</Component>)
    const element = screen.getByLabelText('Test component')
    expect(element).toBeInTheDocument()
  })
})
```

### Storybook 文档标准

#### 组件故事模板
```tsx
// Component.stories.tsx
import type { Meta, StoryObj } from '@storybook/react'
import { Component } from './Component'

const meta: Meta<typeof Component> = {
  title: 'Components/Component',
  component: Component,
  parameters: {
    layout: 'centered',
    docs: {
      description: {
        component: '组件功能描述和使用场景'
      }
    }
  },
  argTypes: {
    variant: {
      control: { type: 'select' },
      options: ['default', 'premium', 'enterprise'],
      description: '组件变体选择'
    },
    size: {
      control: { type: 'select' },
      options: ['sm', 'md', 'lg'],
      description: '组件尺寸'
    }
  },
  tags: ['autodocs']
}

export default meta
type Story = StoryObj<typeof meta>

// 基础故事
export const Default: Story = {
  args: {
    children: '默认组件示例'
  }
}

// 变体示例
export const Premium: Story = {
  args: {
    variant: 'premium',
    children: '高级版本组件'
  }
}

// 尺寸示例
export const Sizes: Story = {
  render: () => (
    <div className="space-y-4">
      <Component size="sm">小尺寸</Component>
      <Component size="md">中尺寸</Component>
      <Component size="lg">大尺寸</Component>
    </div>
  )
}

// AI专家主题示例
export const AIExperts: Story = {
  render: () => (
    <div className="grid grid-cols-2 gap-4">
      <Component expert="alex">Alex 营销专家</Component>
      <Component expert="sarah">Sarah 技术专家</Component>
      <Component expert="mike">Mike 设计专家</Component>
      <Component expert="emma">Emma 数据专家</Component>
    </div>
  )
}
```

---

## 📚 使用指南与最佳实践

### 组件选择指南

#### 决策树
```yaml
选择组件时的决策流程:
  
  Step 1 - 确定功能需求:
    显示信息: Card, Badge, Alert
    用户输入: Input, Select, Textarea
    用户操作: Button, Link, Menu
    数据展示: Chart, Table, List
    AI交互: AIExpertAvatar, AIProgressIndicator
    
  Step 2 - 确定变体需求:
    企业级功能: enterprise变体
    高级功能: premium变体
    转化关键: conversion变体
    AI专家: expert变体
    
  Step 3 - 确定尺寸需求:
    移动端: sm尺寸
    桌面端: md尺寸
    突出显示: lg/xl尺寸
    
  Step 4 - 确定交互需求:
    静态展示: 基础组件
    交互响应: interactive变体
    状态反馈: loading, error, success状态
```

### 性能优化指南

#### 组件性能最佳实践
```tsx
// 1. 使用 React.memo 优化渲染
const OptimizedComponent = React.memo(({ data, onAction }) => {
  return (
    <Card>
      {/* 组件内容 */}
    </Card>
  )
}, (prevProps, nextProps) => {
  // 自定义比较逻辑
  return prevProps.data.id === nextProps.data.id
})

// 2. 使用 useMemo 优化计算
const ExpensiveComponent = ({ data }) => {
  const processedData = useMemo(() => {
    return data.map(item => ({
      ...item,
      computed: heavyComputation(item)
    }))
  }, [data])
  
  return <Chart data={processedData} />
}

// 3. 使用 useCallback 优化回调
const InteractiveComponent = ({ onUpdate }) => {
  const handleClick = useCallback((id) => {
    onUpdate(id)
  }, [onUpdate])
  
  return (
    <Button onClick={() => handleClick('example')}>
      点击操作
    </Button>
  )
}

// 4. 懒加载重型组件
const LazyChart = lazy(() => import('./HeavyChart'))

const ComponentWithLazyChart = () => {
  return (
    <Suspense fallback={<ChartSkeleton />}>
      <LazyChart />
    </Suspense>
  )
}
```

### 可访问性指南

#### 无障碍设计检查清单
```yaml
键盘导航:
  ✅ 所有交互元素支持Tab键导航
  ✅ 焦点指示器清晰可见
  ✅ 逻辑的Tab顺序
  ✅ Escape键关闭弹窗/下拉菜单

屏幕阅读器:
  ✅ 语义化HTML元素
  ✅ 正确的ARIA标签
  ✅ 描述性的alt文本
  ✅ 表单标签关联

色彩对比:
  ✅ 文本对比度 ≥ 4.5:1 (AA级)
  ✅ 图标对比度 ≥ 3:1
  ✅ 不仅依赖颜色传达信息
  ✅ 深色模式适配

动画控制:
  ✅ 尊重用户的动画偏好设置
  ✅ 提供暂停/关闭动画选项
  ✅ 避免闪烁频率 > 3Hz
```

---

## 🚀 组件库演进规划

### 短期计划 (1-3个月)

#### 核心组件完善
- ✅ 基础组件标准化 (Button, Card, Input)
- ✅ AI专属组件开发 (AIExpertAvatar, AIProgressIndicator)
- 🔄 数据可视化组件 (Chart系列)
- 📋 表单组件增强 (Form, Select, Checkbox)

### 中期计划 (3-6个月)

#### 高级功能组件
- 📊 复杂数据表格组件
- 🎛️ 仪表板构建器组件
- 🔍 智能搜索组件
- 📱 移动端专用组件

### 长期规划 (6-12个月)

#### 生态系统建设
- 🎨 设计系统自动化工具
- 📚 交互式文档平台
- 🧪 自动化测试套件
- 🌍 国际化支持

---

**文档状态**: ✅ 完整组件标准化指南  
**应用价值**: 确保ZHILINK4组件开发的一致性和质量  
**维护责任**: 前端架构团队  
**更新周期**: 随组件库演进持续更新