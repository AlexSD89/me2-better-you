# Gitè‡ªåŠ¨åŒæ­¥è„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬ç›®å½•åŒ…å«äº†ç”¨äºå®ç°æ¯å°æ—¶è‡ªåŠ¨ä¸Šä¼ åˆ°GitHubä»“åº“çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š

- **Pythonè‡ªåŠ¨åŒæ­¥è„šæœ¬** - æ ¸å¿ƒåŒæ­¥é€»è¾‘
- **Shellå¯åŠ¨è„šæœ¬** - æœåŠ¡ç®¡ç†
- **Crontabé…ç½®è„šæœ¬** - å®šæ—¶ä»»åŠ¡è®¾ç½®
- **é…ç½®æ–‡ä»¶** - åŒæ­¥å‚æ•°é…ç½®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š
- Python 3.7+
- Git
- Crontab (ç³»ç»Ÿè‡ªå¸¦)

### 2. é…ç½®è‡ªåŠ¨åŒæ­¥

```bash
# è¿›å…¥è„šæœ¬ç›®å½•
cd scripts/

# å®‰è£…crontabå®šæ—¶ä»»åŠ¡
./crontab-setup.sh install

# éªŒè¯å®‰è£…
./crontab-setup.sh verify
```

### 3. æµ‹è¯•æ‰§è¡Œ

```bash
# æµ‹è¯•å•æ¬¡åŒæ­¥
./crontab-setup.sh test

# æˆ–è€…ç›´æ¥è¿è¡ŒPythonè„šæœ¬
python3 auto_git_sync.py --once
```

## ğŸ“ æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒè„šæœ¬

| æ–‡ä»¶å | è¯´æ˜ | ç”¨é€” |
|--------|------|------|
| `auto_git_sync.py` | Pythonè‡ªåŠ¨åŒæ­¥è„šæœ¬ | æ ¸å¿ƒåŒæ­¥é€»è¾‘ï¼Œæ”¯æŒå•æ¬¡æ‰§è¡Œå’Œå¾ªç¯æ‰§è¡Œ |
| `auto-git-sync.sh` | Shellè‡ªåŠ¨åŒæ­¥è„šæœ¬ | Bashç‰ˆæœ¬çš„åŒæ­¥è„šæœ¬ï¼Œé€‚ç”¨äºLinux/macOS |
| `start-auto-sync.sh` | æœåŠ¡ç®¡ç†è„šæœ¬ | å¯åŠ¨ã€åœæ­¢ã€é‡å¯è‡ªåŠ¨åŒæ­¥æœåŠ¡ |

### é…ç½®å’Œå·¥å…·

| æ–‡ä»¶å | è¯´æ˜ | ç”¨é€” |
|--------|------|------|
| `git-sync-config.json` | é…ç½®æ–‡ä»¶ | åŒæ­¥å‚æ•°ã€æ’é™¤æ¨¡å¼ã€é€šçŸ¥è®¾ç½®ç­‰ |
| `crontab-setup.sh` | Crontabé…ç½®è„šæœ¬ | å®‰è£…ã€éªŒè¯ã€ç®¡ç†å®šæ—¶ä»»åŠ¡ |

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ `git-sync-config.json`

```json
{
  "auto_sync": true,                    // æ˜¯å¦å¯ç”¨è‡ªåŠ¨åŒæ­¥
  "sync_interval_hours": 1,             // åŒæ­¥é—´éš”ï¼ˆå°æ—¶ï¼‰
  "max_retries": 3,                     // æœ€å¤§é‡è¯•æ¬¡æ•°
  "retry_delay_seconds": 60,            // é‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰
  "exclude_patterns": [                 // æ’é™¤çš„æ–‡ä»¶æ¨¡å¼
    "*.log",
    "node_modules/",
    ".next/"
  ],
  "include_patterns": [                 // åŒ…å«çš„æ–‡ä»¶æ¨¡å¼
    "*.py",
    "*.ts",
    "*.md",
    "*.json"
  ]
}
```

### Crontabå®šæ—¶ä»»åŠ¡

å®‰è£…åä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹å®šæ—¶ä»»åŠ¡ï¼š
```bash
# æ¯å°æ—¶çš„ç¬¬0åˆ†é’Ÿæ‰§è¡ŒGitåŒæ­¥
0 * * * * cd /path/to/project && python3 scripts/auto_git_sync.py --once >> logs/cron-git-sync.log 2>&1
```

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1: Crontabå®šæ—¶ä»»åŠ¡ï¼ˆæ¨èï¼‰

```bash
# å®‰è£…å®šæ—¶ä»»åŠ¡
./crontab-setup.sh install

# æŸ¥çœ‹çŠ¶æ€
./crontab-setup.sh status

# ç§»é™¤å®šæ—¶ä»»åŠ¡
./crontab-setup.sh remove
```

### æ–¹æ³•2: åå°æœåŠ¡

```bash
# å¯åŠ¨æœåŠ¡
./start-auto-sync.sh start

# æŸ¥çœ‹çŠ¶æ€
./start-auto-sync.sh status

# åœæ­¢æœåŠ¡
./start-auto-sync.sh stop

# é‡å¯æœåŠ¡
./start-auto-sync.sh restart
```

### æ–¹æ³•3: æ‰‹åŠ¨æ‰§è¡Œ

```bash
# æ‰§è¡Œå•æ¬¡åŒæ­¥
python3 auto_git_sync.py --once

# è¿è¡ŒåŒæ­¥å¾ªç¯ï¼ˆå‰å°ï¼‰
python3 auto_git_sync.py
```

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### æ—¥å¿—æ–‡ä»¶

- **è‡ªåŠ¨åŒæ­¥æ—¥å¿—**: `logs/git-sync.log`
- **Crontabæ‰§è¡Œæ—¥å¿—**: `logs/cron-git-sync.log`
- **æœåŠ¡ç®¡ç†æ—¥å¿—**: `logs/auto-sync-service.log`

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹æœ€è¿‘çš„æ—¥å¿—
tail -f logs/git-sync.log

# æŸ¥çœ‹crontabæ‰§è¡Œæ—¥å¿—
tail -f logs/cron-git-sync.log

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./start-auto-sync.sh logs
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æƒé™é—®é¢˜**
   ```bash
   # ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™
   chmod +x scripts/*.sh
   ```

2. **Pythonè·¯å¾„é—®é¢˜**
   ```bash
   # æ£€æŸ¥Pythonç‰ˆæœ¬
   python3 --version
   
   # ä½¿ç”¨å®Œæ•´è·¯å¾„
   /usr/bin/python3 auto_git_sync.py --once
   ```

3. **Gité…ç½®é—®é¢˜**
   ```bash
   # æ£€æŸ¥Gité…ç½®
   git config --list
   
   # è®¾ç½®ç”¨æˆ·ä¿¡æ¯
   git config user.name "Your Name"
   git config user.email "your.email@example.com"
   ```

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
export PYTHONPATH=.
python3 auto_git_sync.py --once --debug

# æŸ¥çœ‹GitçŠ¶æ€
git status
git log --oneline -5
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶

åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æ’é™¤æ¨¡å¼ï¼Œé¿å…åŒæ­¥ä¸´æ—¶æ–‡ä»¶å’Œæ„å»ºäº§ç‰©ï¼š

```json
{
  "exclude_patterns": [
    "*.log",
    "*.tmp",
    "node_modules/",
    ".next/",
    "dist/",
    "build/",
    "coverage/",
    ".DS_Store"
  ]
}
```

### æ‰¹é‡æäº¤

è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å˜æ›´å¹¶æ‰¹é‡æäº¤ï¼Œå‡å°‘Gitæ“ä½œæ¬¡æ•°ã€‚

## ğŸ”’ å®‰å…¨è€ƒè™‘

1. **SSHå¯†é’¥**: ç¡®ä¿GitHub SSHå¯†é’¥é…ç½®æ­£ç¡®
2. **æƒé™æ§åˆ¶**: è„šæœ¬åªæ“ä½œå½“å‰é¡¹ç›®ç›®å½•
3. **æ—¥å¿—è®°å½•**: æ‰€æœ‰æ“ä½œéƒ½æœ‰è¯¦ç»†æ—¥å¿—è®°å½•
4. **é”™è¯¯å¤„ç†**: åŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. æ—¥å¿—æ–‡ä»¶ä¸­çš„é”™è¯¯ä¿¡æ¯
2. Gitä»“åº“çŠ¶æ€
3. ç³»ç»Ÿæƒé™è®¾ç½®
4. Pythonç¯å¢ƒé…ç½®

## ğŸ“ æ›´æ–°æ—¥å¿—

- **v1.0.0** (2025-08-13): åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒåŸºæœ¬è‡ªåŠ¨åŒæ­¥åŠŸèƒ½
- æ”¯æŒæ¯å°æ—¶è‡ªåŠ¨åŒæ­¥
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- å¤šç§éƒ¨ç½²æ–¹å¼ï¼ˆCrontabã€æœåŠ¡ã€æ‰‹åŠ¨ï¼‰
- å¯é…ç½®çš„åŒæ­¥å‚æ•°å’Œæ’é™¤æ¨¡å¼